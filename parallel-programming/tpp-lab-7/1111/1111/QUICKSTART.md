# 🚀 БЫСТРЫЙ СТАРТ

## Что это?
Лабораторная работа по параллельному программированию - реализация параллельного JOIN и параллельного черпака (scoop).

## Статус
- ✅ **Код готов** - компилируется без ошибок
- ❌ **SQL Server не установлен** - требуется установка

---

## 🔴 ЧТО ДЕЛАТЬ ПРЯМО СЕЙЧАС

### 1️⃣ Установить SQL Server (ОБЯЗАТЕЛЬНО!)

**Самый простой способ:**

#### Если есть Visual Studio:
1. Запустить **Visual Studio Installer**
2. Нажать **"Изменить"**
3. Вкладка **"Отдельные компоненты"**
4. Найти и отметить: ✅ **SQL Server Express LocalDB**
5. Нажать **"Изменить"**
6. Дождаться установки

#### Если нет Visual Studio:
1. Открыть: https://www.microsoft.com/en-us/sql-server/sql-server-downloads
2. Нажать **"Download now"** под **"Express"**
3. Запустить установщик → выбрать **"Basic"**
4. Следовать инструкциям

**Подробно:** См. файл `INSTALL_SQL_SERVER.md`

---

### 2️⃣ Проверить установку

```powershell
# Проверить, установлен ли LocalDB
sqllocaldb versions

# Если команда не найдена - LocalDB не установлен!
# Если показывает версии - всё ОК!

# Запустить инстанс
sqllocaldb start MSSQLLocalDB
```

**Или запустить скрипт проверки:**
```powershell
# Если PowerShell блокирует скрипты:
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# Запустить проверку
cd C:\Dev\Workspace\tpp-lab-7\1111\1111
.\CheckSqlServer.ps1
```

---

### 3️⃣ Запустить лабораторную

```powershell
cd C:\Dev\Workspace\tpp-lab-7\1111
dotnet run --project 1111/1111.csproj
```

---

### 4️⃣ Работа с программой

**В меню выбрать последовательно:**

```
1 ← Создать таблицы
2 ← Сгенерировать данные
3 ← Отсортировать таблицы
5 ← Merge-Join (последовательный) - запомнить время!
6 ← Merge-Join (параллельный) - сравнить время!
```

**Параллельная версия должна работать быстрее!**

---

## 📖 Что реализовано?

### ✅ Параллельный JOIN
- Алгоритм **Merge-Join** (файл `MergeAB.cs`)
- Работает как "застёжка-молния" на отсортированных таблицах

### ✅ Параллельный черпак (Scoop)
- Метод `Scoop()` в файле `MergeAB.cs`
- "Черпает" все строки с одинаковым ключом из таблицы A
- Обрабатывает их **параллельно** через `Parallel.ForEach()`

### Где параллелизация?
```csharp
// Черпак содержит: B = [2, 3, 5, 7, 11]
// Нашли совпадение: C = 10
// Нужно: 2×10 + 3×10 + 5×10 + 7×10 + 11×10

// ПАРАЛЛЕЛЬНО вычисляем произведения:
Parallel.ForEach(bucket.Bs, bVal =>
{
    double prod = bVal * cVal;
    lock (lockObj)
    {
        localSum += prod;  // С синхронизацией!
    }
});
```

---

## 📚 Документация

| Файл | Описание |
|------|----------|
| **`SUMMARY.md`** | 📋 Полное резюме проекта |
| **`README.md`** | 📖 Детальная документация |
| **`INSTALL_SQL_SERVER.md`** | 🔧 Установка SQL Server |
| **`QUICKSTART.md`** | 🚀 Этот файл |
| `CheckSqlServer.ps1` | 🔍 Скрипт проверки SQL |

---

## ❗ Частые проблемы

### "sqllocaldb: команда не найдена"
→ SQL Server LocalDB не установлен, см. шаг 1️⃣

### "Cannot open database LabAB"
→ Нормально! База создастся автоматически при выборе опции 1 в меню

### "A network-related error occurred"
→ LocalDB не запущен:
```powershell
sqllocaldb start MSSQLLocalDB
```

### Параллельная версия не быстрее
→ Увеличьте данные (в `Program.cs`, case "2"):
```csharp
ABGenerator.GenerateData(
    uniqueKeyCount: 10000,   // Было: 1000
    minRowsPerKey: 10,       // Было: 2
    maxRowsPerKey: 20        // Было: 5
);
```

---

## 🎯 Главное

1. **Установить SQL Server** - без этого не работает!
2. **Запустить программу** - меню простое, интуитивное
3. **Сравнить время** - опция 5 vs опция 6
4. **Понять черпак** - см. метод `Scoop()` в `MergeAB.cs`
5. **Понять параллелизм** - см. `Parallel.ForEach` в `MergeInternal()`

---

## ✅ Готово!

**Вся информация в 4 файлах:**
- `QUICKSTART.md` ← Вы здесь (быстрый старт)
- `SUMMARY.md` ← Подробное резюме
- `README.md` ← Полная документация
- `INSTALL_SQL_SERVER.md` ← Установка SQL

**Удачи! 🚀**


## Лабораторная работа №5
### Параллельные алгоритмы сортировки и умножения матриц

**Дисциплина:** Теория параллельного программирования

**Выполнил(и):**
- Алешин Иван Кириллович

**Группа:** ПИН-31

**Дата:** 26.01.2026

**Подпись**:

---

## Аннотация

Данная программа реализует три параллельных алгоритма: сортировку чёт-нечёт, умножение матриц методом Кэннона и ленточным методом. Программа предназначена для демонстрации и сравнения эффективности различных подходов к параллельной обработке данных на примере операций над матрицами. Используется язык программирования C# и средства параллелизации .NET.

---

## 1. Назначение и условия применения

### 1.1 Назначение программы

Программа предназначена для демонстрации и сравнения параллельных алгоритмов сортировки и умножения матриц. Она позволяет исследовать производительность различных методов параллельной обработки данных.

### 1.2 Функции, выполняемые программой

- Сортировка матрицы методом чёт-нечёт (Odd-Even Sort)
- Умножение матриц методом Кэннона
- Умножение матриц ленточным методом
- Измерение времени выполнения каждого алгоритма
- Сравнение производительности при разном числе потоков

### 1.3 Условия, необходимые для выполнения программы

**Требования к аппаратному обеспечению:**
- Процессор: Ryzen 4500U или аналогичный с поддержкой многопоточности
- Оперативная память: 16 ГБ и выше

**Требования к программному обеспечению:**
- Операционная система: Windows 11
- Компилятор: .NET 9.0
- Библиотеки: стандартные библиотеки .NET для параллельного программирования (System.Threading.Tasks)

**Требования к персоналу:**
Пользователь должен обладать базовыми навыками работы с Windows и пониманием принципов параллельного программирования.

---

## 2. Характеристика программы

### 2.1 Режим работы

Интерактивный, многопоточный режим. Пользователь выбирает алгоритм и параметры (размер матрицы, количество потоков) через графический интерфейс.

### 2.2 Средства контроля правильности

Корректность работы программы проверяется сравнением результатов параллельных и последовательных вычислений, а также встроенными тестами на корректность операций над матрицами.

---

## 3. Описание алгоритма

### 3.1 Общая схема алгоритма

Программа реализует три алгоритма:
- Odd-Even Sort: параллельная сортировка строк матрицы методом чёт-нечёт.
- CannonMethod: блочное параллельное умножение матриц с циклическим сдвигом блоков.
- TapeMethod: ленточное параллельное умножение матриц с разбиением по строкам и потокам.

### 3.2 Последовательная реализация

В последовательной реализации каждая операция (сортировка строки, умножение блоков) выполняется в одном потоке без распараллеливания.

### 3.3 Параллельная реализация

Для параллельной реализации используется декомпозиция по строкам (Odd-Even Sort) или по блокам (CannonMethod, TapeMethod). Задачи распределяются между потоками с помощью Parallel.For и других средств .NET. Синхронизация достигается за счёт разделения данных между потоками и отсутствия гонок данных.

---

## 4. Используемые технологии программирования

### 4.1 Язык программирования

C#

### 4.2 Фреймворки и библиотеки

- .NET 9.0 (System.Threading.Tasks)

### 4.3 Используемые объекты и структуры данных

- int[,] — двумерные массивы для хранения матриц
- Классы OddEvenSort, CannonMethod, TapeMethod для реализации алгоритмов

### 4.4 Особенности реализации

- Использование Parallel.For для распараллеливания вычислений
- Разделение данных между потоками для избежания гонок
- Измерение времени выполнения с помощью Stopwatch

---

## 5. Входные и выходные данные

### 5.1 Входные данные

**Формат:**
Параметры задаются через графический интерфейс: размер матрицы, количество потоков, выбор алгоритма. Матрицы могут генерироваться случайно или задаваться вручную.

**Пример:**
- Размер матрицы: 512
- Количество потоков: 4
- Алгоритм: CannonMethod

### 5.2 Выходные данные

**Формат:**
Результирующая матрица (или отсортированная матрица), время выполнения, ускорение и эффективность (при сравнении с последовательным запуском).

**Пример:**
- Время выполнения: 0.45 сек
- Ускорение: 3.2
- Эффективность: 80%

### 5.3 Запуск программы
```powershell
# Сборка приложения
 dotnet build -c Release

# Запуск
 .\bin\Release\WinFormLab5.exe
```

---

## 6. Результаты тестирования

### 6.1 Описание тестовых данных

Для тестирования использовались случайно сгенерированные квадратные матрицы размером 128, 256, 512 и 1024 элементов, а также различные значения числа потоков (1, 2, 4, 8).

### 6.2 Функциональное тестирование

**Тест 1:** Сортировка матрицы 128x128 методом чёт-нечёт
- Входные данные: матрица 128x128, 2 потока
- Ожидаемый результат: строки отсортированы по возрастанию
- Полученный результат: строки отсортированы
- Статус: ✓ Пройден

**Тест 2:** Умножение матриц 256x256 методом Кэннона
- Входные данные: две матрицы 256x256, 4 потока
- Ожидаемый результат: корректная результирующая матрица
- Полученный результат: совпадает с эталонным результатом
- Статус: ✓ Пройден

**Тест 3:** Умножение матриц 512x512 ленточным методом
- Входные данные: две матрицы 512x512, 4 потока
- Ожидаемый результат: корректная результирующая матрица
- Полученный результат: совпадает с эталонным результатом
- Статус: ✓ Пройден

### 6.3 Тестирование производительности

| Количество потоков | Размер данных | Время выполнения | Ускорение | Эффективность |
| ------------------ | ------------- | ---------------- | --------- | ------------- |
| 1                  | 512x512       | 2.10 c           | 1.0       | 100%          |
| 2                  | 512x512       | 1.15 c           | 1.83      | 91%           |
| 4                  | 512x512       | 0.65 c           | 3.23      | 81%           |

**Выводы по результатам тестирования:**
Параллельные алгоритмы показывают значительный прирост производительности по сравнению с последовательными реализациями. Эффективность увеличивается с ростом размера задачи, однако при большом числе потоков наблюдается снижение эффективности из-за накладных расходов на синхронизацию.

---
## Список использованных источников

1. Гергель В.П. Параллельные алгоритмы. Учебник. — М.: МГУ, 2017.
2. https://docs.microsoft.com/ru-ru/dotnet/standard/parallel-programming/
